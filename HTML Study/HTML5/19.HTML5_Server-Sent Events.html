<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>HTML5 服务器发送事件(Server-Sent Events)</title>
</head>
<body>

<!--HTML5 服务器发送事件（server-sent event）允许网页获得来自服务器的更新。
Server-Sent 事件 - 单向消息传递
Server-Sent 事件指的是网页自动获取来自服务器的更新。
以前也可能做到这一点，前提是网页不得不询问是否有可用的更新。通过服务器发送事件，更新能够自动到达。
例子：Facebook/Twitter 更新、估价更新、新的博文、赛事结果等。

所有主流浏览器均支持服务器发送事件，除了 Internet Explorer。-->


<!--接收 Server-Sent 事件通知
EventSource 对象用于接收服务器发送事件通知：-->

<h1>获取服务端更新数据</h1>
<div id="result"></div>
<script>
    if (typeof (EventSource)!=="undefined"){
        var source = new EventSource("http://www.runoob.com/try/demo_source/demo_sse.php");

        source.onmessage = function (event) {
            document.getElementById("result").innerHTML += event.data + "<br>";
        };

    }else {
        document.getElementById("result").innerHTML="抱歉，你的浏览器不支持 server-sent 事件...";
    }

</script>

<a href="http://www.runoob.com/html/html5-serversentevents.html">HTML5 服务器发送事件</a>


</body>
</html>
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>JSAdvance HTML DOM</title>
</head>
<body onload="checkCookies()">


<!--JavaScript HTML DOM
通过 HTML DOM，可访问 JavaScript HTML 文档的所有元素-->


<!--HTML DOM (文档对象模型)
当网页被加载时，浏览器会创建页面的文档对象模型（Document Object Model）。
HTML DOM 模型被构造为对象的树-->
<figure>
    <img src="02.JSAdvance_DOMTree.png">
    <figcaption>HTML DOM 模型被构造为对象的树</figcaption>
</figure>
<!--通过可编程的对象模型，JavaScript 获得了足够的能力来创建动态的 HTML。
1、JavaScript 能够改变页面中的所有 HTML 元素
2、JavaScript 能够改变页面中的所有 HTML 属性
3、JavaScript 能够改变页面中的所有 CSS 样式
4、JavaScript 能够对页面中的所有事件做出反应-->


<!--查找 HTML 元素
通常，通过 JavaScript，您需要操作 HTML 元素。
为了做到这件事情，您必须首先找到该元素。有三种方法来做这件事：
1、通过 id 找到 HTML 元素，如果未找到该元素，则 x 将包含 null。
2、通过标签名找到 HTML 元素
3、通过类名找到 HTML 元素， getElementsByClassName-->




<!------------------------------------------------------------------------------------>
<!--JavaScript HTML DOM - 改变 HTML-->


<!--改变 HTML 输出流
JavaScript 能够创建动态的 HTML 内容-->
<script>
    document.write(Date());
</script><hr>
<!--绝对不要在文档加载完成之后使用 document.write()。这会覆盖该文档。-->


<!--改变 HTML 内容
修改 HTML 内容的最简单的方法时使用 innerHTML 属性。-->
<p id="a">Hello</p>
<script>
    document.getElementById("a").innerHTML = "新文本";
</script><hr>


<!--改变 HTML 属性
如需改变 HTML 元素的属性，请使用这个语法：
document.getElementById(id).attribute=新属性值-->
<img src="02.JSAdvance_DOMTree.png" id="image1">
<script>
    document.getElementById("image1").src = "../Images/qiutian.png";
</script><hr>





<!------------------------------------------------------------------------------------>
<!--JavaScript HTML DOM - 改变CSS-->


<!--改变 HTML 样式
如需改变 HTML 元素的样式，请使用这个语法：
document.getElementById(id).style.property=新样式-->
<p id="p1">Hello World!</p>
<p id="p2">Hello World!</p>
<script>
    document.getElementById("p2").style.color="blue";
    document.getElementById("p2").style.fontFamily="Arial";
    document.getElementById("p2").style.fontSize="larger";
</script><hr>


<!--使用事件
HTML DOM 允许我们通过触发事件来执行代码。-->
<h1 id="id1">我的标题 1</h1>
<button type="button"
        onclick="document.getElementById('id1').style.color='red'">
    点我!</button><hr>






<!------------------------------------------------------------------------------------>
<!--JavaScript HTML DOM 事件
HTML DOM 使 JavaScript 有能力对 HTML 事件做出反应。-->
<!--HTML 事件的例子：
当用户点击鼠标时
当网页已加载时
当图像已加载时
当鼠标移动到元素上时
当输入字段被改变时
当提交 HTML 表单时
当用户触发按键时-->
<h1 onclick="this.innerHTML='Ooops!'">点击文本！</h1><hr>


<!--HTML 事件属性
如需向 HTML 元素分配 事件，您可以使用事件属性。-->
<p id="p3"></p>
<button onclick="displayDate()">当前时间</button>
<script>
    function displayDate() {
        document.getElementById('p3').innerHTML = Date();
    }
</script><hr>


<!--使用 HTML DOM 来分配事件
HTML DOM 允许您使用 JavaScript 来向 HTML 元素分配事件-->
<p id="p4"></p>
<button id="btn">当前时间</button>
<script>
    document.getElementById("btn").onclick = function () { displayDate() };
    function displayDate() {
        document.getElementById('p4').innerHTML = Date();
    }
</script><hr>


<!--onload 和 onunload 事件
onload 和 onunload 事件会在用户进入或离开页面时被触发。
onload 事件可用于检测访问者的浏览器类型和浏览器版本，并基于这些信息来加载网页的正确版本。
onload 和 onunload 事件可用于处理 cookie。-->
<script>
    function checkCookies() {
        if (navigator.cookieEnabled == true){
            alert("Cookies 可用");
        }else {
            alert("Cookies 不可用")
        }
    }
</script>


<!--onchange 事件
onchange 事件常结合对输入字段的验证来使用-->
输入你的名字: <input type="text" id="fname" onchange="change()">
<p>当你离开输入框后，函数将被触发，将小写字母转为大写字母。</p>
<script>
    function change() {
        var x = document.getElementById('fname');
        x.value = x.value.toUpperCase();
    }
</script>


<!--onmouseover 和 onmouseout 事件
onmouseover 和 onmouseout 事件可用于在用户的鼠标移至 HTML 元素上方或移出元素时触发函数。-->
<div onmouseover="mOver(this)" onmouseout="mOut(this)"
     style="background-color:#D94A38;width:120px;height:20px;padding:40px;">
    Mouse Over Me</div>
<script>
    function mOver(obj){
        obj.innerHTML="Thank You"
    }
    function mOut(obj){
        obj.innerHTML="Mouse Over Me"
    }
</script><hr>


<!--onmousedown、onmouseup 以及 onclick 事件
onmousedown, onmouseup 以及 onclick 构成了鼠标点击事件的所有部分。首先当点击鼠标按钮时，会触发
onmousedown 事件，当释放鼠标按钮时，会触发 onmouseup 事件，最后，当完成鼠标点击时，会触发 onclick 事件。-->
<div onmousedown="mDown(this)" onmouseup="mUp(this)"
     style="background-color: red;width: 100px;height: 80px;padding: 20px">
    Thank You
</div>
<script>
    function mDown(obj) {
        obj.innerHTML = "Release Me";
        obj.style.backgroundColor = "green";
    }
    function mUp(obj) {
        obj.innerHTML = "Thank You";
        obj.style.backgroundColor = "red";
    }
</script><hr>






<!------------------------------------------------------------------------------------>
<!--JavaScript HTML DOM EventListener-->
<p id="p5"></p>
<button id="btn2">单个事件</button>
<script>
    document.getElementById('btn2').addEventListener('click',displayDate);
    function displayDate() {
        document.getElementById("p5").innerHTML = Date();
    }
</script><hr>
<!--addEventListener() 方法用于向指定元素添加事件句柄。
addEventListener() 方法添加的事件句柄不会覆盖已存在的事件句柄。
你可以向一个元素添加多个事件句柄。
你可以向同个元素添加多个同类型的事件句柄，如：两个 "click" 事件。
你可以向任何 DOM 对象添加事件监听，不仅仅是 HTML 元素。如： window 对象。
addEventListener() 方法可以更简单的控制事件（冒泡与捕获）。
当你使用 addEventListener() 方法时, JavaScript 从 HTML 标记中分离开来，可读性更强， 在没有控制HTML标记时也可以添加事件监听。
你可以使用 removeEventListener() 方法来移除事件的监听。-->


<!--语法
element.addEventListener(event, function, useCapture);
第一个参数是事件的类型 (如 "click" 或 "mousedown").
第二个参数是事件触发后调用的函数。
第三个参数是个布尔值用于描述事件是冒泡还是捕获。该参数是可选的。-->


<!--向同一个元素中添加多个事件句柄
addEventListener() 方法允许向同个元素添加多个事件，且不会覆盖已存在的事件：-->
<p id="p6"></p>
<button id="btn3">多个事件</button>
<script>
    var x = document.getElementById("bt3");
    x.addEventListener("mouseover", myFunction);
    x.addEventListener("click", mySecondFunction);
    x.addEventListener("mouseout", myThirdFunction);
    function myFunction() {
        document.getElementById("p6").innerHTML += "Moused over!<br>"
    }
    function mySecondFunction() {
        document.getElementById("p6").innerHTML += "Clicked!<br>"
    }
    function myThirdFunction() {
        document.getElementById("p6").innerHTML += "Moused out!<br>"
    }
</script><hr>


<!--向 Window 对象添加事件句柄
addEventListener() 方法允许你在 HTML DOM 对象添加事件监听， HTML DOM 对象如： HTML 元素, HTML 文档, window 对象。或者其他支出的事件对象如: xmlHttpRequest 对象。-->
<p id="p7"></p>
<script>
    window.addEventListener('resize',function () {
       document.getElementById('p7').innerHTML = Math.random();
    });
</script>


<!--传递参数
当传递参数值时，使用"匿名函数"调用带参数的函数-->
<p id="p8"></p>
<button id="btn6">传递参数</button>
<script>
    var p1 = 5;
    var p2 = 7;
    document.getElementById('btn6').addEventListener('click',function () {
        functionOne(p1,p2)
    });
    function functionOne(a,b) {
        var result = a * b;
        document.getElementById('p8').innerHTML = result;
    }
</script>


<!--事件冒泡或事件捕获？事件传递有两种方式：冒泡与捕获。
事件传递定义了元素事件触发的顺序：
如果你将 <p> 元素插入到 <div> 元素中，用户点击 <p> 元素, 哪个元素的 "click" 事件先被触发呢？
在 冒泡 中，内部元素的事件会先被触发，然后再触发外部元素，即： <p> 元素的点击事件先触发，然后会触发
<div> 元素的点击事件。
在 捕获 中，外部元素的事件会先被触发，然后才会触发内部元素的事件，即： <div> 元素的点击事件先触发 ，
然后再触发 <p> 元素的点击事件。
addEventListener() 方法可以指定 "useCapture" 参数来设置传递类型：
addEventListener(event, function, useCapture);
默认值为 false, 即冒泡传递，当值为 true 时, 事件使用捕获传递。-->
<div id="div1" style="background-color: red;width: 300px;height: 200px;">
    <p id="p9" style="background-color: green;margin: 50px;display: inline-block;">点击段落，我是冒泡。</p>
</div><br>
<div id="div2" style="background-color: red;width: 300px;height: 200px;">
    <p id="p10" style="background-color: green;margin: 50px;display: inline-block;">点击段落，我是捕获。</p>
</div>
<script>
    document.getElementById('p9').addEventListener('click',function () {
        alert('点击了p9元素');
    },false);
    document.getElementById('div1').addEventListener('click',function () {
        alert('点击了div1元素');
    },false);
    document.getElementById('p10').addEventListener('click',function () {
        alert('点击了p10元素');
    },true);
    document.getElementById('div2').addEventListener('click',function () {
        alert('点击了div2元素');
    },true);
</script><hr>


<!--removeEventListener() 方法
removeEventListener() 方法移除由 addEventListener() 方法添加的事件句柄:
实例
element.removeEventListener("mousemove", myFunction);-->

<a href="http://www.runoob.com/jsref/dom-obj-event.html">
    <h4>HTML DOM Event 对象参考手册。</h4></a><hr>





<!------------------------------------------------------------------------------------>
<!--JavaScript HTML DOM 元素(节点)-->


<!--创建新的 HTML 元素
如需向 HTML DOM 添加新元素，您必须首先创建该元素（元素节点），然后向一个已存在的元素追加该元素。-->
<div id="div3"></div>
<script>
    var para = document.createElement('p');
    var node = document.createTextNode('标签中插入一个新的字段了');
    para.appendChild(node);
    var element = document.getElementById('div3');
    element.appendChild(para);

    /*删除已有的 HTML 元素*/
    /*element.removeChild(para);*/
</script><hr>
<a href="http://www.runoob.com/htmldom/htmldom-tutorial.html">
    <h4>完整的HTML DOM 教程。</h4></a>










</body>
</html>